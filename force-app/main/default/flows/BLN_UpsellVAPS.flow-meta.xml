<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <assignments>
        <name>Add_PR_to_updatedPRList</name>
        <label>Add PR to updatedPRList</label>
        <locationX>138</locationX>
        <locationY>6782</locationY>
        <assignmentItems>
            <assignToReference>updatedPRList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>updatedPR</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_over_inserted_PRs</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Fill_Title</name>
        <label>Fill Title</label>
        <locationX>138</locationX>
        <locationY>6674</locationY>
        <assignmentItems>
            <assignToReference>updatedPR.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loopPR.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatedPR.BLN_Title__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>getSAOfPR.AppointmentNumber</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatedPR.BLN_Title__c</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue> - </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatedPR.BLN_Title__c</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>loopPR.ProductRequiredNumber</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatedPR.BLN_Title__c</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue> - </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatedPR.BLN_Title__c</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>loopPR.ProductName</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_PR_to_updatedPRList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Store_new_PR</name>
        <label>Store new PR</label>
        <locationX>468</locationX>
        <locationY>5186</locationY>
        <assignmentItems>
            <assignToReference>newPR.BLN_IsConsumed__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.Product2Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loopSelectedPI.Product2Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.QuantityRequired</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuantityInputPicklist</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.QuantityUnitOfMeasure</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Each</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.BLN_Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.ParentRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentWOLIId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.BLN_WOLI__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentWOLIId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.BLN_WorkOrder__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentWOId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.BLN_ProductRequiredTitle__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>selectedOLIRecord.BLN_ProductCode__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.BLN_ProductRequiredTitle__c</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>- </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.BLN_ProductRequiredTitle__c</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>selectedOLIRecord.UnitPrice</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.BLN_ProductRequiredTitle__c</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue> GBP</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.BLN_QuantityUsedByTech__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuantityInputPicklist</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newPR.BLN_ProductChangeType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Product Upsold</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>store_updated_OI</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Store_Not_Found_Products</name>
        <label>Store Not Found Products</label>
        <locationX>1826</locationX>
        <locationY>3794</locationY>
        <assignmentItems>
            <assignToReference>showNotFoundPro</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>Product Code: </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>showNotFoundPro</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>loopElementOLI.BLN_ProductCode__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>showNotFoundPro</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>&lt;br/&gt;</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>notSelectedProIdText</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>loopElementOLI.Product2Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>notSelectedProIdText</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>;</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_over_OLIs</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Store_RelatedRecordId</name>
        <label>Store WOLI Id</label>
        <locationX>1239</locationX>
        <locationY>2138</locationY>
        <assignmentItems>
            <assignToReference>currentWOLIId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentWOId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentWOLIRec.WorkOrderId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Null_Check_for_WOLI_Id</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Store_Selected_Found_Products</name>
        <label>Store Selected Found Products</label>
        <locationX>1122</locationX>
        <locationY>4010</locationY>
        <assignmentItems>
            <assignToReference>showFoundPro</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>Product Code: </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>showFoundPro</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>foundPI.BLN_ProductCode__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>showFoundPro</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>&lt;br/&gt;</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>showFoundPro</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>Quantity: </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>showFoundPro</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>foundPI.QuantityOnHand</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>showFoundPro</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>&lt;br/&gt;</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>selectedProIdText</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>loopElementOLI.Product2Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>selectedProIdText</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>;</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>selectedFoundProdList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>foundPI</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_over_OLIs</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>store_updated_OI</name>
        <label>store updated OI</label>
        <locationX>468</locationX>
        <locationY>5294</locationY>
        <assignmentItems>
            <assignToReference>updatedOLI.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>selectedOLIRecord.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatedOLI.BLN_IsProductSelected__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatedOLI.Quantity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>QuantityInputPicklist</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Store_updated_PR_List_And_new_OI_List</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Store_updated_PR_List_And_new_OI_List</name>
        <label>Store updated PR List And new OI List</label>
        <locationX>468</locationX>
        <locationY>5402</locationY>
        <assignmentItems>
            <assignToReference>newPRList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>newPR</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatedOLIList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>updatedOLI</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_over_selected_PI</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Store_vanPI_ProductIds</name>
        <label>Store vanPI ProductIds</label>
        <locationX>1987</locationX>
        <locationY>1406</locationY>
        <assignmentItems>
            <assignToReference>vanPIProductI2ds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>vanPIElement.Product2Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>vanPIProductI2ds</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>;</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_over_vanPIList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Store_WOLI_Id</name>
        <label>Store WOLI Id</label>
        <locationX>1943</locationX>
        <locationY>2246</locationY>
        <assignmentItems>
            <assignToReference>currentWOLIId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentWorkStep.WorkOrderLineItemId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentWOId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentWorkStep.WorkOrderId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Null_Check_for_WOLI_Id</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>Eight</name>
        <choiceText>8</choiceText>
        <dataType>Number</dataType>
        <value>
            <numberValue>8.0</numberValue>
        </value>
    </choices>
    <choices>
        <name>Five</name>
        <choiceText>5</choiceText>
        <dataType>Number</dataType>
        <value>
            <numberValue>5.0</numberValue>
        </value>
    </choices>
    <choices>
        <name>Four</name>
        <choiceText>4</choiceText>
        <dataType>Number</dataType>
        <value>
            <numberValue>4.0</numberValue>
        </value>
    </choices>
    <choices>
        <name>Nine</name>
        <choiceText>9</choiceText>
        <dataType>Number</dataType>
        <value>
            <numberValue>9.0</numberValue>
        </value>
    </choices>
    <choices>
        <name>One</name>
        <choiceText>1</choiceText>
        <dataType>Number</dataType>
        <value>
            <numberValue>1.0</numberValue>
        </value>
    </choices>
    <choices>
        <name>Seven</name>
        <choiceText>7</choiceText>
        <dataType>Number</dataType>
        <value>
            <numberValue>7.0</numberValue>
        </value>
    </choices>
    <choices>
        <name>Six</name>
        <choiceText>6</choiceText>
        <dataType>Number</dataType>
        <value>
            <numberValue>6.0</numberValue>
        </value>
    </choices>
    <choices>
        <name>Ten</name>
        <choiceText>10</choiceText>
        <dataType>Number</dataType>
        <value>
            <numberValue>10.0</numberValue>
        </value>
    </choices>
    <choices>
        <name>Three</name>
        <choiceText>3</choiceText>
        <dataType>Number</dataType>
        <value>
            <numberValue>3.0</numberValue>
        </value>
    </choices>
    <choices>
        <name>Two</name>
        <choiceText>2</choiceText>
        <dataType>Number</dataType>
        <value>
            <numberValue>2.0</numberValue>
        </value>
    </choices>
    <constants>
        <name>emptyString</name>
        <dataType>String</dataType>
        <value>
            <stringValue></stringValue>
        </value>
    </constants>
    <decisions>
        <name>Check_for_R1</name>
        <label>Check for R1</label>
        <locationX>2273</locationX>
        <locationY>2030</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Display_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>R1_is_false</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>STfromWOLI.BLN_ConsiderforR1__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>WS_Null_Check</targetReference>
            </connector>
            <label>R1 is false</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_option_is_selected</name>
        <label>Check if option is selected</label>
        <locationX>1782</locationX>
        <locationY>3470</locationY>
        <defaultConnector>
            <targetReference>Loop_over_OLIs</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Option Not Selected</defaultConnectorLabel>
        <rules>
            <name>Option_Selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Please_Select_a_VAPS_Product_to_fit</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>loopElementOLI.Product2Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_PI_found_in_Van</targetReference>
            </connector>
            <label>Option Selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_Selected_PI_exists</name>
        <label>Check if Selected PI exists?</label>
        <locationX>611</locationX>
        <locationY>4754</locationY>
        <defaultConnectorLabel>PI doesnot exist</defaultConnectorLabel>
        <rules>
            <name>PI_exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>selectedFoundProdList</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_over_selected_PI</targetReference>
            </connector>
            <label>PI exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_PI_found_in_Van</name>
        <label>Check PI found in Van?</label>
        <locationX>1474</locationX>
        <locationY>3578</locationY>
        <defaultConnector>
            <targetReference>If_not_already_stored_Not_in_Van</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Product Not Found in Van</defaultConnectorLabel>
        <rules>
            <name>Copy_1_of_Product_Found_in_Van</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vanPIProductI2ds</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>loopElementOLI.Product2Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>get_Selected_Product_Item</targetReference>
            </connector>
            <label>Product Found in Van</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_territory</name>
        <label>check territory</label>
        <locationX>1525</locationX>
        <locationY>1922</locationY>
        <defaultConnector>
            <targetReference>Display_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>R1_check</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>STRecord.BLN_ConsiderforR1__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Null_check_WOLI</targetReference>
            </connector>
            <label>R1 check</label>
        </rules>
    </decisions>
    <decisions>
        <name>Clock_In_CheckDecision</name>
        <label>Clock In Check?</label>
        <locationX>2960</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <targetReference>InstructionsForCICO</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_Clocked_In</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>IsCheckedIn</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_SR</targetReference>
            </connector>
            <label>Yes Clocked In</label>
        </rules>
    </decisions>
    <decisions>
        <name>Continue</name>
        <label>Continue?</label>
        <locationX>858</locationX>
        <locationY>4646</locationY>
        <defaultConnector>
            <targetReference>Please_Try_Again</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Do_you_wish_to_continue</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_if_Selected_PI_exists</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>if_not_already_stored</name>
        <label>if not already stored</label>
        <locationX>1034</locationX>
        <locationY>3902</locationY>
        <defaultConnector>
            <targetReference>Store_Selected_Found_Products</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Already Stored</defaultConnectorLabel>
        <rules>
            <name>Already_Stored_in_Van</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>selectedProIdText</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>foundPI.Product2Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_over_OLIs</targetReference>
            </connector>
            <label>Already Stored (in Van)</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_not_already_stored_Not_in_Van</name>
        <label>If not already stored (Not in Van)</label>
        <locationX>1738</locationX>
        <locationY>3686</locationY>
        <defaultConnector>
            <targetReference>Store_Not_Found_Products</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Already Stored</defaultConnectorLabel>
        <rules>
            <name>Already_Stored_NS</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>notSelectedProIdText</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>loopElementOLI.Product2Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_over_OLIs</targetReference>
            </connector>
            <label>Already Stored</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_Options_Selected</name>
        <label>If Options Selected</label>
        <locationX>1114</locationX>
        <locationY>3254</locationY>
        <defaultConnectorLabel>Not Selected</defaultConnectorLabel>
        <rules>
            <name>Selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Please_Select_a_VAPS_Product_to_fit</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_over_OLIs</targetReference>
            </connector>
            <label>Selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_SR_is_Approved_Partner</name>
        <label>If SR is Approved Partner?</label>
        <locationX>2658</locationX>
        <locationY>974</locationY>
        <defaultConnector>
            <targetReference>As_an_Approved_Partner_you_cannot_offer_VAPs_Click_on_Next_button_to_exit</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Approved Partner</defaultConnectorLabel>
        <rules>
            <name>Not_Approved_Partner</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currSR.BLN_Type__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Approved Partner</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_VAPS_PI_from_Van</targetReference>
            </connector>
            <label>Not Approved Partner</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_SR_is_null</name>
        <label>If SR is null</label>
        <locationX>2960</locationX>
        <locationY>866</locationY>
        <defaultConnectorLabel>SR Not Found</defaultConnectorLabel>
        <rules>
            <name>SR_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currSR</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>If_SR_is_Approved_Partner</targetReference>
            </connector>
            <label>SR Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_VAPS_are_on_Order</name>
        <label>If VAPS are on Order?</label>
        <locationX>1374</locationX>
        <locationY>3038</locationY>
        <defaultConnector>
            <targetReference>There_are_no_VAPS_available_for_the_job</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>VAPS not there</defaultConnectorLabel>
        <rules>
            <name>VAPS_there</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>OLIs</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>VAPS_Product_Selection</targetReference>
            </connector>
            <label>VAPS there</label>
        </rules>
    </decisions>
    <decisions>
        <name>Launched_from_WOLI_Quick_Action</name>
        <label>Launched from WOLI Quick Action?</label>
        <locationX>1899</locationX>
        <locationY>1598</locationY>
        <defaultConnector>
            <targetReference>Get_Work_Step</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>WS</defaultConnectorLabel>
        <rules>
            <name>WOLI</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Id</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>1WL</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Current_WOLI</targetReference>
            </connector>
            <label>WOLI</label>
        </rules>
    </decisions>
    <decisions>
        <name>Null_check_for_inserted_PRs</name>
        <label>Null check for inserted PRs</label>
        <locationX>182</locationX>
        <locationY>6242</locationY>
        <defaultConnectorLabel>Doesn&apos;t got PRS</defaultConnectorLabel>
        <rules>
            <name>Got_PRs</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>retrieveInsertedPRs</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_over_inserted_PRs</targetReference>
            </connector>
            <label>Got PRs</label>
        </rules>
    </decisions>
    <decisions>
        <name>Null_Check_for_WOLI_Id</name>
        <label>Null Check for WOLI Id</label>
        <locationX>1899</locationX>
        <locationY>2606</locationY>
        <defaultConnectorLabel>WOLI  Id is Null</defaultConnectorLabel>
        <rules>
            <name>WOLI_Id_is_not_Null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currentWOLIId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>currentWOId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Order_From_WO</targetReference>
            </connector>
            <label>WOLI  Id is not Null</label>
        </rules>
    </decisions>
    <decisions>
        <name>Null_check_WOLI</name>
        <label>Null check WOLI</label>
        <locationX>1371</locationX>
        <locationY>2030</locationY>
        <defaultConnector>
            <targetReference>Null_Check_for_WOLI_Id</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>WOLI Rec is not Null</defaultConnectorLabel>
        <rules>
            <name>WOLI_Rec_is_not_Null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currentWOLIRec</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Store_RelatedRecordId</targetReference>
            </connector>
            <label>WOLI Rec is not Null</label>
        </rules>
    </decisions>
    <decisions>
        <name>OrderId_Null_check</name>
        <label>OrderId Null check</label>
        <locationX>1636</locationX>
        <locationY>2822</locationY>
        <defaultConnectorLabel>OrderId is NULL</defaultConnectorLabel>
        <rules>
            <name>OrderId_is_not_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currentWO.BLN_Order__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Order_Items</targetReference>
            </connector>
            <label>OrderId is not NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>PI_found_in_Van</name>
        <label>PI found in Van?</label>
        <locationX>1210</locationX>
        <locationY>3794</locationY>
        <defaultConnectorLabel>Product Not Found in Van</defaultConnectorLabel>
        <rules>
            <name>Product_Found_in_Van</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>foundPI.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>if_not_already_stored</targetReference>
            </connector>
            <label>Product Found in Van</label>
        </rules>
    </decisions>
    <decisions>
        <name>SA_null_check</name>
        <label>SA null check</label>
        <locationX>270</locationX>
        <locationY>6566</locationY>
        <defaultConnector>
            <targetReference>Loop_over_inserted_PRs</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Doesn&apos;t got SA</defaultConnectorLabel>
        <rules>
            <name>got_SA</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getSAOfPR</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Fill_Title</targetReference>
            </connector>
            <label>got SA</label>
        </rules>
    </decisions>
    <decisions>
        <name>updated_PR_new_OLI_List_Empty</name>
        <label>updated PR&amp; new OLI List Empty?</label>
        <locationX>380</locationX>
        <locationY>5594</locationY>
        <defaultConnectorLabel>PR&amp;OLI list Empty</defaultConnectorLabel>
        <rules>
            <name>PR_OLI_list_Empty</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newPRList</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>updatedOLIList</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Is_Repricing_Required_on_Case</targetReference>
            </connector>
            <label>PR&amp;OLI list Not Empty</label>
        </rules>
    </decisions>
    <decisions>
        <name>UserId_And_Id_Null_Check</name>
        <label>UserId And Id Null Check</label>
        <locationX>3243</locationX>
        <locationY>134</locationY>
        <defaultConnectorLabel>UserId and Id is null</defaultConnectorLabel>
        <rules>
            <name>UserId_and_Id_is_not_null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>UserId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Clock_In_Check</targetReference>
            </connector>
            <label>UserId and Id is not null</label>
        </rules>
    </decisions>
    <decisions>
        <name>VAPS_available_in_the_Van</name>
        <label>VAPS available in the Van?</label>
        <locationX>2317</locationX>
        <locationY>1190</locationY>
        <defaultConnector>
            <targetReference>There_are_no_VAPs_available_in_the_van</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>VAPS not available</defaultConnectorLabel>
        <rules>
            <name>VAPS_available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vanPIList</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_over_vanPIList</targetReference>
            </connector>
            <label>VAPS available</label>
        </rules>
    </decisions>
    <decisions>
        <name>WS_Null_Check</name>
        <label>WS Null Check</label>
        <locationX>2075</locationX>
        <locationY>2138</locationY>
        <defaultConnectorLabel>WS is null</defaultConnectorLabel>
        <rules>
            <name>WS_is_not_null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currentWorkStep</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Store_WOLI_Id</targetReference>
            </connector>
            <label>WS is not null</label>
        </rules>
    </decisions>
    <description>FOUK-4083, FOUK-7619, FOUK-9066 (Map PR.BLN_QuantityUsedByTech__c)</description>
    <dynamicChoiceSets>
        <name>getOPOptions</name>
        <dataType>String</dataType>
        <displayField>BLN_VAPSOptionLabel__c</displayField>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OrderId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentWO.BLN_Order__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>BLN_ProductCategory__c</field>
            <operator>StartsWith</operator>
            <value>
                <stringValue>29</stringValue>
            </value>
        </filters>
        <filters>
            <field>BLN_IsProductSelected__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <object>OrderItem</object>
        <valueField>Product2Id</valueField>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <interviewLabel>Upsell VAPS {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Upsell VAPS</label>
    <loops>
        <name>Loop_over_inserted_PRs</name>
        <label>Loop over inserted PRs</label>
        <locationX>50</locationX>
        <locationY>6350</locationY>
        <assignNextValueToReference>loopPR</assignNextValueToReference>
        <collectionReference>retrieveInsertedPRs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Get_SA</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>update_PR_List</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_over_OLIs</name>
        <label>Loop over OLIs</label>
        <locationX>858</locationX>
        <locationY>3362</locationY>
        <assignNextValueToReference>loopElementOLI</assignNextValueToReference>
        <collectionReference>OLIs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_if_option_is_selected</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Show_Products_After_Selection</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_over_selected_PI</name>
        <label>Loop over selected PI</label>
        <locationX>380</locationX>
        <locationY>4862</locationY>
        <assignNextValueToReference>loopSelectedPI</assignNextValueToReference>
        <collectionReference>selectedFoundProdList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Please_select_the_quantity</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>updated_PR_new_OLI_List_Empty</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_over_vanPIList</name>
        <label>Loop over vanPIList</label>
        <locationX>1899</locationX>
        <locationY>1298</locationY>
        <assignNextValueToReference>vanPIElement</assignNextValueToReference>
        <collectionReference>vanPIList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Store_vanPI_ProductIds</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Launched_from_WOLI_Quick_Action</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>FieldServiceMobile</processType>
    <recordCreates>
        <name>Create_new_PRs</name>
        <label>Create new PRs</label>
        <locationX>182</locationX>
        <locationY>5918</locationY>
        <connector>
            <targetReference>Create_Task_For_Repricing</targetReference>
        </connector>
        <inputReference>newPRList</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Task_For_Repricing</name>
        <label>Create Task For Repricing</label>
        <locationX>182</locationX>
        <locationY>6026</locationY>
        <connector>
            <targetReference>Get_Inserted_PRs</targetReference>
        </connector>
        <inputAssignments>
            <field>BLN_ServiceTerritory__c</field>
            <value>
                <elementReference>currentWO.ServiceTerritoryId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <stringValue>Products are added/removed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <stringValue>Repricing required</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>WhatId</field>
            <value>
                <elementReference>currentWO.CaseId</elementReference>
            </value>
        </inputAssignments>
        <object>Task</object>
    </recordCreates>
    <recordLookups>
        <name>Get_Current_WOLI</name>
        <label>Get Current WOLI</label>
        <locationX>1525</locationX>
        <locationY>1706</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_service_territory</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </filters>
        <object>WorkOrderLineItem</object>
        <outputReference>currentWOLIRec</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>WorkOrderId</queriedFields>
        <queriedFields>ServiceTerritoryId</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Inserted_PRs</name>
        <label>Get Inserted PRs</label>
        <locationX>182</locationX>
        <locationY>6134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Null_check_for_inserted_PRs</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentRecordId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentWOLIId</elementReference>
            </value>
        </filters>
        <filters>
            <field>BLN_IsConsumed__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>BLN_Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </filters>
        <filters>
            <field>BLN_Title__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <object>ProductRequired</object>
        <outputReference>retrieveInsertedPRs</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>ProductName</queriedFields>
        <queriedFields>ProductRequiredNumber</queriedFields>
        <queriedFields>ParentRecordId</queriedFields>
        <queriedFields>BLN_Title__c</queriedFields>
        <queriedFields>BLN_ProductRequiredTitle__c</queriedFields>
        <queriedFields>Product2Id</queriedFields>
        <queriedFields>BLN_Status__c</queriedFields>
        <queriedFields>BLN_IsConsumed__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Order_From_WO</name>
        <label>Get Order From WO</label>
        <locationX>1636</locationX>
        <locationY>2714</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>OrderId_Null_check</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentWOId</elementReference>
            </value>
        </filters>
        <object>WorkOrder</object>
        <outputReference>currentWO</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>BLN_Order__c</queriedFields>
        <queriedFields>CaseId</queriedFields>
        <queriedFields>ServiceTerritoryId</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Order_Items</name>
        <label>Get Order Items</label>
        <locationX>1374</locationX>
        <locationY>2930</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>If_VAPS_are_on_Order</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OrderId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentWO.BLN_Order__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>BLN_ProductCategory__c</field>
            <operator>StartsWith</operator>
            <value>
                <stringValue>29</stringValue>
            </value>
        </filters>
        <filters>
            <field>BLN_IsProductSelected__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <object>OrderItem</object>
        <outputReference>OLIs</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>BLN_ProductCategory__c</queriedFields>
        <queriedFields>BLN_VAPSOptionLabel__c</queriedFields>
        <queriedFields>OrderId</queriedFields>
        <queriedFields>Quantity</queriedFields>
        <queriedFields>TotalPrice</queriedFields>
        <queriedFields>BLN_IsProductSelected__c</queriedFields>
        <queriedFields>Product2Id</queriedFields>
        <queriedFields>BLN_ProductCode__c</queriedFields>
        <queriedFields>BLN_IsVAPUpsold__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_SA</name>
        <label>Get SA</label>
        <locationX>270</locationX>
        <locationY>6458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>SA_null_check</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentRecordId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>loopPR.ParentRecordId</elementReference>
            </value>
        </filters>
        <object>ServiceAppointment</object>
        <outputReference>getSAOfPR</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>AppointmentNumber</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Selected_OLI</name>
        <label>Get Selected OLI</label>
        <locationX>468</locationX>
        <locationY>5078</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Store_new_PR</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OrderId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentWO.BLN_Order__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product2Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>loopSelectedPI.Product2Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>BLN_IsVAPUpsold__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>BLN_IsProductSelected__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <object>OrderItem</object>
        <outputReference>selectedOLIRecord</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>BLN_IsProductSelected__c</queriedFields>
        <queriedFields>BLN_IsVAPUpsold__c</queriedFields>
        <queriedFields>Quantity</queriedFields>
        <queriedFields>Product2Id</queriedFields>
        <queriedFields>UnitPrice</queriedFields>
        <queriedFields>BLN_ProductCode__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>get_Selected_Product_Item</name>
        <label>get Selected Product Item</label>
        <locationX>1210</locationX>
        <locationY>3686</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>PI_found_in_Van</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>LocationId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currSR.LocationId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product2Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>loopElementOLI.Product2Id</elementReference>
            </value>
        </filters>
        <object>ProductItem</object>
        <outputReference>foundPI</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>BLN_ProductCode__c</queriedFields>
        <queriedFields>QuantityOnHand</queriedFields>
        <queriedFields>Product2Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>get_service_territory</name>
        <label>get service territory</label>
        <locationX>1525</locationX>
        <locationY>1814</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>check_territory</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentWOLIRec.ServiceTerritoryId</elementReference>
            </value>
        </filters>
        <object>ServiceTerritory</object>
        <outputReference>STRecord</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>BLN_ConsiderforR1__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>get_service_territory1</name>
        <label>get service territory</label>
        <locationX>2273</locationX>
        <locationY>1922</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_for_R1</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>WOLIFromWs.ServiceTerritoryId</elementReference>
            </value>
        </filters>
        <object>ServiceTerritory</object>
        <outputReference>STfromWOLI</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>BLN_ConsiderforR1__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_SR</name>
        <label>Get SR</label>
        <locationX>2960</locationX>
        <locationY>758</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>If_SR_is_null</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RelatedRecordId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>UserId</elementReference>
            </value>
        </filters>
        <object>ServiceResource</object>
        <outputReference>currSR</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>LocationId</queriedFields>
        <queriedFields>BLN_Type__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_VAPS_PI_from_Van</name>
        <label>Get VAPS PI from Van</label>
        <locationX>2317</locationX>
        <locationY>1082</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>VAPS_available_in_the_Van</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>LocationId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currSR.LocationId</elementReference>
            </value>
        </filters>
        <filters>
            <field>BLN_ProductCategory__c</field>
            <operator>StartsWith</operator>
            <value>
                <stringValue>29</stringValue>
            </value>
        </filters>
        <object>ProductItem</object>
        <outputReference>vanPIList</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>BLN_ProductCode__c</queriedFields>
        <queriedFields>Product2Id</queriedFields>
        <queriedFields>BLN_ProductCategory__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>get_WOLI</name>
        <label>get WOLI</label>
        <locationX>2273</locationX>
        <locationY>1814</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_service_territory1</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
        </filters>
        <object>WorkOrderLineItem</object>
        <outputReference>WOLIFromWs</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>ServiceTerritoryId</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Work_Step</name>
        <label>Get Work Step</label>
        <locationX>2273</locationX>
        <locationY>1706</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_WOLI</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </filters>
        <object>WorkStep</object>
        <outputReference>currentWorkStep</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>WorkOrderLineItemId</queriedFields>
        <queriedFields>WorkOrderId</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>Update_Is_Repricing_Required_on_Case</name>
        <label>Update Is Repricing Required on Case</label>
        <locationX>182</locationX>
        <locationY>5702</locationY>
        <connector>
            <targetReference>updated_OLI_as_VAPS_Upsold</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentWO.CaseId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>BLN_IsRepricingRequired__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>update_PR_List</name>
        <label>update PR List</label>
        <locationX>50</locationX>
        <locationY>7058</locationY>
        <inputReference>updatedPRList</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>updated_OLI_as_VAPS_Upsold</name>
        <label>updated OLI as VAPS Upsold</label>
        <locationX>182</locationX>
        <locationY>5810</locationY>
        <connector>
            <targetReference>Create_new_PRs</targetReference>
        </connector>
        <inputReference>updatedOLIList</inputReference>
    </recordUpdates>
    <screens>
        <name>As_an_Approved_Partner_you_cannot_offer_VAPs_Click_on_Next_button_to_exit</name>
        <label>As an Approved Partner, you cannot offer VAPs. Click on Next button to exit.</label>
        <locationX>2999</locationX>
        <locationY>1082</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Display_Screen</name>
        <label>Display Screen</label>
        <locationX>1679</locationX>
        <locationY>2030</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Displaymessage</name>
            <fieldText>&lt;p&gt;This feature is available for R2.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>InstructionsForCICO</name>
        <label>InstructionsForCICO</label>
        <locationX>3048</locationX>
        <locationY>458</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Calling_CICO_Flow</targetReference>
        </connector>
        <fields>
            <name>OpenCICO</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;Before performing any operation you must need to &quot;Clock-In&quot; first. Please click Next to &quot;Clock-In&quot;&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Please_select_the_quantity</name>
        <label>Please select the quantity</label>
        <locationX>468</locationX>
        <locationY>4970</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Get_Selected_OLI</targetReference>
        </connector>
        <fields>
            <name>EnterQuan</name>
            <fieldText>&lt;p&gt;Please select quantity (1-10) for the product {!loopSelectedPI.BLN_ProductCode__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>QuantityInputPicklist</name>
            <choiceReferences>One</choiceReferences>
            <choiceReferences>Two</choiceReferences>
            <choiceReferences>Three</choiceReferences>
            <choiceReferences>Four</choiceReferences>
            <choiceReferences>Five</choiceReferences>
            <choiceReferences>Six</choiceReferences>
            <choiceReferences>Seven</choiceReferences>
            <choiceReferences>Eight</choiceReferences>
            <choiceReferences>Nine</choiceReferences>
            <choiceReferences>Ten</choiceReferences>
            <dataType>Number</dataType>
            <defaultSelectedChoiceReference>One</defaultSelectedChoiceReference>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>false</isRequired>
            <scale>0</scale>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Please_Try_Again</name>
        <label>Please Try Again</label>
        <locationX>1106</locationX>
        <locationY>4754</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>TryAgain</name>
            <fieldText>&lt;p&gt;Please click on the Next button to exit the flow and try again.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Show_Products_After_Selection</name>
        <label>Show Products After Selection</label>
        <locationX>858</locationX>
        <locationY>4538</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Continue</targetReference>
        </connector>
        <fields>
            <name>showProducts</name>
            <fieldText>&lt;p&gt;The products which are available in the van are as follows:&lt;/p&gt;&lt;p&gt;{!showFoundPro}&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;The products which are not available in the van are as follows:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;{!showNotFoundPro}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Do_you_wish_to_continue</name>
            <dataType>Boolean</dataType>
            <defaultValue>
                <booleanValue>false</booleanValue>
            </defaultValue>
            <fieldText>Do you wish to continue?</fieldText>
            <fieldType>InputField</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>There_are_no_VAPS_available_for_the_job</name>
        <label>There are no VAPS available for the job.</label>
        <locationX>1634</locationX>
        <locationY>3146</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>NoVAPS</name>
            <fieldText>&lt;p&gt;There are no VAPS available for the job.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>There_are_no_VAPs_available_in_the_van</name>
        <label>There are no VAPs available in the van</label>
        <locationX>2735</locationX>
        <locationY>1298</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>NoVAPSInVan</name>
            <fieldText>&lt;p&gt;There are no VAPs available in the van.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>VAPS_Product_Selection</name>
        <label>VAPS Product Selection</label>
        <locationX>1114</locationX>
        <locationY>3146</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>If_Options_Selected</targetReference>
        </connector>
        <fields>
            <name>Please_Select_a_VAPS_Product_to_fit</name>
            <choiceReferences>getOPOptions</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Please Select a VAPS Product to fit</fieldText>
            <fieldType>MultiSelectCheckboxes</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>false</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>3117</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>UserId_And_Id_Null_Check</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Calling_CICO_Flow</name>
        <label>Calling CICO Flow</label>
        <locationX>3048</locationX>
        <locationY>566</locationY>
        <connector>
            <targetReference>Get_SR</targetReference>
        </connector>
        <flowName>BLN_ShiftCICOManagement</flowName>
        <inputAssignments>
            <name>UserId</name>
            <value>
                <elementReference>UserId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Clock_In_Check</name>
        <label>Clock In Check</label>
        <locationX>2960</locationX>
        <locationY>242</locationY>
        <connector>
            <targetReference>Clock_In_CheckDecision</targetReference>
        </connector>
        <flowName>BLN_ClockInCheck</flowName>
        <inputAssignments>
            <name>Id</name>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserId</name>
            <value>
                <elementReference>UserId</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>IsCheckedIn</assignToReference>
            <name>OutputOfTheFlow</name>
        </outputAssignments>
    </subflows>
    <textTemplates>
        <name>showNotFoundProTT</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;{!showNotFoundPro}&lt;/p&gt;</text>
    </textTemplates>
    <textTemplates>
        <name>showProdListTT</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;{!showFoundPro}&lt;/p&gt;</text>
    </textTemplates>
    <variables>
        <name>currentWO</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <name>currentWOId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>currentWOLIId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>currentWOLIRec</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrderLineItem</objectType>
    </variables>
    <variables>
        <name>currentWorkStep</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkStep</objectType>
    </variables>
    <variables>
        <name>currSR</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ServiceResource</objectType>
    </variables>
    <variables>
        <name>foundPI</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductItem</objectType>
    </variables>
    <variables>
        <name>getSAOfPR</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ServiceAppointment</objectType>
    </variables>
    <variables>
        <name>Id</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>IsCheckedIn</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>loopElementOLI</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OrderItem</objectType>
    </variables>
    <variables>
        <name>loopPR</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductRequired</objectType>
    </variables>
    <variables>
        <name>loopSelectedPI</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductItem</objectType>
    </variables>
    <variables>
        <name>newPR</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductRequired</objectType>
    </variables>
    <variables>
        <name>newPRList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductRequired</objectType>
    </variables>
    <variables>
        <name>notfoundOLI</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OrderItem</objectType>
    </variables>
    <variables>
        <name>notSelectedProIdText</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OLIs</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OrderItem</objectType>
    </variables>
    <variables>
        <name>retrieveInsertedPRs</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductRequired</objectType>
    </variables>
    <variables>
        <name>selectedFoundProdList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductItem</objectType>
    </variables>
    <variables>
        <name>selectedNotFoundProdList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductItem</objectType>
    </variables>
    <variables>
        <name>selectedOLI</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OrderItem</objectType>
    </variables>
    <variables>
        <name>selectedOLIRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OrderItem</objectType>
    </variables>
    <variables>
        <name>selectedProIdText</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>showFoundPro</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>emptyString</elementReference>
        </value>
    </variables>
    <variables>
        <name>showNotFoundPro</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>emptyString</elementReference>
        </value>
    </variables>
    <variables>
        <name>STfromWOLI</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ServiceTerritory</objectType>
    </variables>
    <variables>
        <name>STRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ServiceTerritory</objectType>
    </variables>
    <variables>
        <name>updatedOLI</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OrderItem</objectType>
    </variables>
    <variables>
        <name>updatedOLIList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OrderItem</objectType>
    </variables>
    <variables>
        <name>updatedPR</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductRequired</objectType>
    </variables>
    <variables>
        <name>updatedPRList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductRequired</objectType>
    </variables>
    <variables>
        <name>UserId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vanPIElement</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductItem</objectType>
    </variables>
    <variables>
        <name>vanPIList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductItem</objectType>
    </variables>
    <variables>
        <name>vanPIProductI2ds</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>WOLIFromWs</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrderLineItem</objectType>
    </variables>
</Flow>
